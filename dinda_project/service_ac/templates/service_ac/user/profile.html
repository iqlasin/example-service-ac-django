{% extends "service_ac/include/base_generic.html" %}

{% block title %}
Profile
{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2>Profile</h2>

    <!-- SweetAlert Notification -->
    {% if message %}
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                Swal.fire({
                    icon: '{{ message_type }}',  // success or error
                    title: '{{ message }}',
                    timer: 3000,
                    showConfirmButton: false
                });
            });
        </script>
    {% endif %}

    <div class="row">
        <!-- Update Information Section -->
        <div class="col-md-6">
            <div class="card shadow mb-4">
                <div class="card-header">
                    <h5>Update Information</h5>
                </div>
                <div class="card-body">
                    <form method="POST">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label for="username" class="form-label">Username</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="username" 
                                value="{{ user.username }}" 
                                disabled>
                        </div>
                        <div class="mb-3">
                            <label for="alamat" class="form-label">Address</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="alamat" 
                                name="alamat" 
                                value="{{ user.alamat }}" 
                                placeholder="Enter your address" 
                                required>
                        </div>
                        <div class="mb-3">
                            <label for="nomor_hp" class="form-label">Phone Number</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                id="nomor_hp" 
                                name="nomor_hp" 
                                value="{{ user.nomor_hp }}" 
                                placeholder="Enter your phone number" 
                                required>
                        </div>
                        <button type="submit" class="btn btn-primary w-100" name="update_info">Update Information</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Change Password Section -->
        <div class="col-md-6">
            <div class="card shadow mb-4">
                <div class="card-header">
                    <h5>Change Password</h5>
                </div>
                <div class="card-body">
                    <form method="POST">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label for="old_password" class="form-label">Old Password</label>
                            <input 
                                type="password" 
                                class="form-control" 
                                id="old_password" 
                                name="old_password" 
                                placeholder="Enter your old password" 
                                required>
                        </div>
                        <div class="mb-3">
                            <label for="new_password" class="form-label">New Password</label>
                            <input 
                                type="password" 
                                class="form-control" 
                                id="new_password" 
                                name="new_password" 
                                placeholder="Enter a new password" 
                                required>
                        </div>
                        <div class="mb-3">
                            <label for="confirm_password" class="form-label">Confirm New Password</label>
                            <input 
                                type="password" 
                                class="form-control" 
                                id="confirm_password" 
                                name="confirm_password" 
                                placeholder="Confirm your new password" 
                                required>
                        </div>
                        <button type="submit" class="btn btn-primary w-100" name="change_password">Change Password</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
